<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página de Bolo</title>
    <link rel="stylesheet" href="css/bolo.css">

    <!-- jQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    
    <!-- Chosen CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.7/chosen.css">
    
    <!-- Chosen JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.7/chosen.jquery.min.js"></script>
    
    <style>
        .chosen-container {
            width: 200px !important;
        }
        .botao-limpar {
            margin-top: 10px;
            padding: 5px 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="info">
            <h1>Bolo Personalizado</h1>
            <p>Escolha o sabor e o peso do seu bolo, feito com ingredientes frescos e de alta qualidade.</p>
        </div>
        <div class="imagem">
            <img id="imagem-bolo" src="https://www.estadao.com.br/resizer/oFDrDp3xgfze9zuyNaR5gnyURVA=/arc-anglerfish-arc2-prod-estadao/public/FIVYQFU6J5ND3PYRA6XQHR4NW4.jpg" alt="Imagem do Bolo">
        </div>
    </div>

    <!-- Seção para escolha de sabor único -->
    <div class="opcoes">
        <div class="seletor-sabor">
            <label for="saborUnico">Escolha um único sabor:</label>
            <select id="saborUnico" class="chosen-select" data-placeholder="Escolha o sabor..." style="width:200px;">
                <option value=""></option>
                <option value="Baba de moça">Baba de moça - R$140,00</option>
                <option value="Chocolate branco">Chocolate branco - R$140,00</option>
                <option value="Brigadeiro">Brigadeiro - R$140,00</option>
                <option value="Doce de leite">Doce de leite - R$140,00</option>
                <option value="Ninho">Ninho - R$140,00</option>
                <option value="Castanha do Pará">Castanha do Pará - R$180,00</option>
                <option value="Ameixa">Ameixa - R$180,00</option>
                <option value="Damasco">Damasco - R$180,00</option>
                <option value="Morango">Morango - R$180,00</option>
            </select>
            <button id="limparSabor" class="botao-limpar">Limpar Seleção</button> <!-- Botão para limpar seleção -->
        </div>
    </div>

    <!-- Seção para escolha de múltiplos sabores -->
    <div class="opcoes">
        <div class="seletor-sabor">
            <label for="saboresMultiplos">Escolha até 3 sabores:</label>
            <select id="saboresMultiplos" class="chosen-select" multiple data-placeholder="Selecione as opções" style="width:200px;">
                <option value="Baba de moça">Baba de moça - R$140,00</option>
                <option value="Chocolate branco">Chocolate branco - R$140,00</option>
                <option value="Brigadeiro">Brigadeiro - R$140,00</option>
                <option value="Doce de leite">Doce de leite - R$140,00</option>
                <option value="Ninho">Ninho - R$140,00</option>
                <option value="Castanha do Pará">Castanha do Pará - R$180,00</option>
                <option value="Ameixa">Ameixa - R$180,00</option>
                <option value="Damasco">Damasco - R$180,00</option>
                <option value="Morango">Morango - R$180,00</option>
            </select>
        </div>
    </div>

    <!-- Seção para escolha de peso -->
    <div class="opcoes">
        <div class="seletor-peso">
            <label>Peso do bolo (kg):</label>
            <div class="contador">
                <button id="decrementar">-</button>
                <input type="text" id="peso" value="0.5" readonly>
                <button id="incrementar">+</button>
                <button id="adicionar" class="adicionar">Adicionar</button>
            </div>
        </div>
    </div>

    <script>
        // Inicializa o Chosen para os elementos select
        $(document).ready(function() {
            $('.chosen-select').chosen({disable_search_threshold: 10});

            // Limitar a escolha de até 3 sabores
            $('#saboresMultiplos').change(function() {
                if ($(this).val().length > 3) {
                    alert('Você pode escolher no máximo 3 sabores.');
                    $(this).val($(this).val().slice(0, 3)); // Mantém apenas os 3 primeiros
                    $(this).trigger('chosen:updated'); // Atualiza a interface do Chosen
                }
            });

            // Alternar entre escolha única e múltipla
            $('#saborUnico').change(function() {
                if ($(this).val() !== "") {
                    $('#saboresMultiplos').prop('disabled', true).val('').trigger('chosen:updated');
                    $(this).find("option:first").text("");
                } else {
                    $('#saboresMultiplos').prop('disabled', false).trigger('chosen:updated');
                    $(this).find("option:first").text("Escolha um único sabor:");
                }
            });

            $('#saboresMultiplos').change(function() {
                if ($(this).val().length > 0) {
                    $('#saborUnico').prop('disabled', true).val('').trigger('chosen:updated');
                    $('#saborUnico').find("option:first").text("");
                } else {
                    $('#saborUnico').prop('disabled', false).trigger('chosen:updated');
                    $('#saborUnico').find("option:first").text("Escolha um único sabor:");
                }
            });

            // Ação do botão para limpar a seleção de sabor único
            $('#limparSabor').click(function() {
                $('#saborUnico').val('').trigger('chosen:updated'); // Limpa a seleção
                $('#saboresMultiplos').prop('disabled', false).trigger('chosen:updated'); // Habilita o seletor de múltiplos sabores
                $('#saboresMultiplos').val([]).trigger('chosen:updated'); // Limpa a seleção de múltiplos sabores
                $('#saboresMultiplos').find("option:first").text("Escolha os sabores:"); // Restaura a opção padrão
            });
        });

        // Controle de peso do bolo
        var pesoAtual = 0.5;

        document.getElementById('incrementar').addEventListener('click', function() {
            pesoAtual += 0.5;
            document.getElementById('peso').value = pesoAtual.toFixed(1);
        });

        document.getElementById('decrementar').addEventListener('click', function() {
            if (pesoAtual > 0.5) {
                pesoAtual -= 0.5;
                document.getElementById('peso').value = pesoAtual.toFixed(1);
            }
        });
    </script>
</body>
</html>
